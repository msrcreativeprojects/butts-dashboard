<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Butts in Seats - Broadway Dashboard&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Georgia', serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #fefefe;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-direction: column;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>min-height: 100vh;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #333;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 800px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>h1 {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 2.5rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 60px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: normal;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #2c2c2c;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.stats-grid {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: grid;</p>
<p class="p1"><span class="Apple-converted-space">            </span>grid-template-columns: 1fr 1fr;</p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 60px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 40px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-box {</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 40px 20px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.big-number {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 4rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #1a1a1a;</p>
<p class="p1"><span class="Apple-converted-space">            </span>line-height: 1;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.stat-label {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.2rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #666;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 20px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.percentage {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 5rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #c41e3a;</p>
<p class="p1"><span class="Apple-converted-space">            </span>line-height: 1;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.percentage-label {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.4rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #666;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.metadata {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 60px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 0.9rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #888;</p>
<p class="p1"><span class="Apple-converted-space">            </span>line-height: 1.6;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.loading {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.5rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #666;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 60px 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.error {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.2rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #c41e3a;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 60px 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@media (max-width: 768px) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>.stats-grid {</p>
<p class="p1"><span class="Apple-converted-space">                </span>grid-template-columns: 1fr;</p>
<p class="p1"><span class="Apple-converted-space">                </span>gap: 40px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>.big-number {</p>
<p class="p1"><span class="Apple-converted-space">                </span>font-size: 3rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>.percentage {</p>
<p class="p1"><span class="Apple-converted-space">                </span>font-size: 4rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>h1 {</p>
<p class="p1"><span class="Apple-converted-space">                </span>font-size: 2rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h1&gt;Butts in Seats&lt;/h1&gt;</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="loading" class="loading"&gt;Loading Broadway data...&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="error" class="error" style="display: none;"&gt;&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="dashboard" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="stats-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="stat-box"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="attendance" class="big-number"&gt;-&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="stat-label"&gt;Total Attendance&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="stat-box"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="capacity" class="big-number"&gt;-&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="stat-label"&gt;Total Seats Offered&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="stat-box"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="percentage" class="percentage"&gt;-&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="percentage-label"&gt;Filled&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="metadata"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="week-ending"&gt;Week ending: -&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="last-updated"&gt;Last updated: -&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;Data source: &lt;a href="https://www.broadwayworld.com/grosses.cfm" target="_blank"&gt;BroadwayWorld&lt;/a&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>class BroadwayDashboard {</p>
<p class="p1"><span class="Apple-converted-space">            </span>constructor() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>this.data = this.loadCachedData();</p>
<p class="p1"><span class="Apple-converted-space">                </span>this.lastFetch = this.data ? this.data.timestamp : 0;</p>
<p class="p1"><span class="Apple-converted-space">                </span>this.init();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>async init() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Check if we need to fetch new data (cache for 24 hours)</p>
<p class="p1"><span class="Apple-converted-space">                </span>const now = Date.now();</p>
<p class="p1"><span class="Apple-converted-space">                </span>const cacheAge = now - this.lastFetch;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const cacheExpiry = 24 * 60 * 60 * 1000; // 24 hours</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!this.data || cacheAge &gt; cacheExpiry) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>await this.fetchData();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>this.displayData();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>loadCachedData() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const cached = localStorage.getItem('broadwayData');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return cached ? JSON.parse(cached) : null;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>saveData(data) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>localStorage.setItem('broadwayData', JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                    </span>...data,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>timestamp: Date.now()</p>
<p class="p1"><span class="Apple-converted-space">                </span>}));</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>async fetchData() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// In a real implementation, this would be a serverless function</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// For demo purposes, we'll use mock data based on current Broadway trends</p>
<p class="p1"><span class="Apple-converted-space">                    </span>await this.simulateAPICall();</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Simulate parsing Broadway data</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const mockData = this.generateMockData();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>this.data = mockData;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>this.saveData(mockData);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>this.displayData();</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error('Error fetching data:', error);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>this.showError('Failed to fetch Broadway data. Please try again later.');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>async simulateAPICall() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Simulate network delay</p>
<p class="p1"><span class="Apple-converted-space">                </span>await new Promise(resolve =&gt; setTimeout(resolve, 2000));</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>generateMockData() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Based on typical Broadway numbers (30+ shows, ~40 theaters)</p>
<p class="p1"><span class="Apple-converted-space">                </span>// These numbers are realistic for current Broadway</p>
<p class="p1"><span class="Apple-converted-space">                </span>const shows = 32;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const avgCapacity = 1000;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const avgAttendance = 850;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const totalCapacity = shows * avgCapacity * 8; // 8 shows per week</p>
<p class="p1"><span class="Apple-converted-space">                </span>const totalAttendance = shows * avgAttendance * 8;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const fillPercentage = Math.round((totalAttendance / totalCapacity) * 100);</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Get the most recent Sunday (Broadway week ends on Sunday)</p>
<p class="p1"><span class="Apple-converted-space">                </span>const now = new Date();</p>
<p class="p1"><span class="Apple-converted-space">                </span>const weekEnding = new Date(now);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const daysSinceWeekend = (now.getDay() + 7) % 7;</p>
<p class="p1"><span class="Apple-converted-space">                </span>weekEnding.setDate(now.getDate() - daysSinceWeekend);</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>return {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>attendance: totalAttendance,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>capacity: totalCapacity,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>percentage: fillPercentage,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>weekEnding: weekEnding.toLocaleDateString('en-US', {<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>month: 'long',<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>day: 'numeric',<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                        </span>year: 'numeric'<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>}),</p>
<p class="p1"><span class="Apple-converted-space">                    </span>lastUpdated: new Date().toLocaleString('en-US', {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>weekday: 'long',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>year: 'numeric',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>month: 'long',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>day: 'numeric',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>hour: '2-digit',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>minute: '2-digit'</p>
<p class="p1"><span class="Apple-converted-space">                    </span>})</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>displayData() {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!this.data) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('loading').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('dashboard').style.display = 'block';</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Format numbers with commas</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('attendance').textContent =<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>this.data.attendance.toLocaleString();</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('capacity').textContent =<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>this.data.capacity.toLocaleString();</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('percentage').textContent =<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>this.data.percentage + '%';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('week-ending').textContent =<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>`Week ending: ${this.data.weekEnding}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('last-updated').textContent =<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>`Last updated: ${this.data.lastUpdated}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>showError(message) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('loading').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('error').textContent = message;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('error').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Initialize dashboard when page loads</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('DOMContentLoaded', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>new BroadwayDashboard();</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
